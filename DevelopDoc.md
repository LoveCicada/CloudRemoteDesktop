
# 云桌面开发设计


![设计框架](./img/framework.png)

### RDP登录/后台服务
- 目的
Windows在账号未激活的情况下，无法进行截屏，需要登录后开启相应的后台服务支持客户端的连接
- 任务
1.封装相应的RDP登录模块
2.验证Windows上如何实现后台程序的开启
3.实现完整的流程，使用Windows账号密码能在另一台机器上通过RDP连接登录上对应的机器，并启动相应的后台程序
4.不要求后台程序的功能，程序能自动启动即可
- 资料
https://github.com/FreeRDP/FreeRDP

### WebRTC传输
- 目的
1.低延迟的视音频传输
2.适配浏览器用户

### 屏幕捕获/音频捕获/显卡编码
- 目的
屏幕和音频捕获

- 任务
1.实现屏幕编码数据稳定帧率的输出
2.使用DXGI实现屏幕捕获功能，并直接调用NVIDIA显卡编码
3.实现音频捕获提供连续的音频输出功能
4.实现完整的流程使用样例程序，把当前屏幕的内容和音频录制为媒体文件

- 难点
HDR截屏

### 显卡解码/实时渲染/音频设备输出


### 远程键盘鼠标控制
- 目标
云桌面客户端操作控制的基本必备功能

- 任务
1.键盘/鼠标操作的定义
2.客户端和服务端的简单通信
3.控制当前桌面鼠标的移动，实现键盘的虚拟按键操作（包括组合键）
4.捕获当前窗口程序中键盘的消息，当前窗口鼠标的消息